<!DOCTYPE html>
<html>
<head><title>iVan's App</title>
    <meta  content="yes"  name="apple-mobile-web-app-capable">
    <meta  name="viewport"  content="width=device-width,height=device-height,inital-scale=1.0,maximum-scale=1.0,user-scalable=no;">
    <script type="text/javascript">     (function (w, d) {
        function setSize() {
            var screenWidth = d.documentElement.clientWidth;
            var currentFontSize = screenWidth * 30 / 750;
            d.documentElement.style.fontSize = currentFontSize + 'px';
        }

        w.addEventListener('resize', setSize);
        w.addEventListener('pageShow', setSize)
        w.addEventListener('DOMContentLoaded', setSize)
    })(window, document)   </script>
    <link rel="stylesheet/less" type="text/css" href="./color.less"/>
    <script>     window.less = {async: false, env: 'production'};   </script>
    <script type="text/javascript" src="./less.min.js"></script>
    <script>     var cn, c;
    const m = {x: innerWidth / 2, y: innerHeight / 2};
    var Timeout;
    // window.onmousemove = function (e) {
    //     clearTimeout(Timeout);
    //     let initX = m.x;
    //     let initY = m.y;
    //     let num = 20;
    //     for (let i = 1; i <= num; i++) {
    //         Timeout = setTimeout(() => {
    //                 m.x = initX + (e.clientX - initX) / num * i;
    //                 m.y = initY + (e.clientY - initY) / num * i;
    //             },
    //             5 * i
    //         )
    //     }
    //     ;
    // }

    function gc() {
        var s = "0123456789ABCDEF";
        var c = "#";
        for (var i = 0; i < 6; i++) {
            c += s[Math.ceil(Math.random() * 15)]
        }
        return c
    }

    var a = [];
    window.onload = function myfunction() {
        cn = document.getElementById('cw');
        c = cn.getContext('2d');
        for (var i = 0; i < 10; i++) {
            var t = new ob(innerWidth / 2, innerHeight / 2, 5, "red", Math.random() * 200 + 20, 2);
            a.push(t);
        }
        c.lineWidth = "2";
        c.globalAlpha = 0.5;
        resize();
        anim()
    }
    window.onresize = function () {
        resize();
    }

    function resize() {
        cn.height = innerHeight;
        cn.width = innerWidth;
        for (var i = 0; i < 500; i++) {
            a[i] = new ob(innerWidth / 2, innerHeight / 2, 4, gc(), Math.random() * 200 + 20, 0.02);
        }
    }

    function ob(x, y, r, cc, o, s) {
        this.x = x;
        this.y = y;
        this.r = r;
        this.cc = cc;
        this.theta = Math.random() * Math.PI * 2;
        this.s = s;
        this.o = o;
        this.t = Math.random() * 150;
        this.o = o;
        this.dr = function () {
            const ls = {x: this.x, y: this.y};
            this.theta += this.s;
            this.x = m.x + Math.cos(this.theta) * this.t;
            this.y = m.y + Math.sin(this.theta) * this.t;
            c.beginPath();
            c.lineWidth = this.r * 4;
            c.strokeStyle = this.cc;
            c.moveTo(ls.x, ls.y);
            c.lineTo(this.x, this.y);
            c.stroke();
            c.closePath();
        }
    }

    function anim() {
        requestAnimationFrame(anim);
        c.fillStyle = "aliceblue";
        c.fillRect(0, 0, cn.width, cn.height);
        a.forEach(function (e, i) {
            e.dr();
        });
    }   </script>
</head>
<body>
<noscript> 亲，请您开启浏览器的javascript功能 ：）</noscript>
<audio controls="controls" style="height: 0;position: absolute">
    <source src="./music.mp3" type="audio/mp3">
</audio>
<canvas id="cw" style="position: fixed;z-index: -1;"></canvas>
<div id="root" style="background: transparent"></div>
<div id="iframe_box"></div>
<script src="bundle.js"></script>
</body>
</html>